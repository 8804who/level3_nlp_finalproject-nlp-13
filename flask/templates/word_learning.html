{% extends 'base.html' %}
{% block column_left %}
<link rel="stylesheet" href="../static/css/word_learning.css">

<div>
    <div class="todays_word">
        {% if add_or_today == 'today' %}
            <p style="font-weight: 750;">오늘의 단어</p>
        {% else %}
            <p style="font-weight: 750;">학습 추천 단어</p>
        {% endif %}

        <div class="word_card">
            <div id="word">
                <span>{{word}} [{{pronounce}}]</span>
                <button id="pronounce" type="button" onclick="play()">
                    <img id="pronounce_button" src="../static/src/img/play.png" alt="발음 듣기">
                </button>
            </div>
            <div id="explanation">
                <p id="audio" hidden>{{audio}}</p>
                <div>{{explanation}}</div>
            </div>        
        </div>
        
        <div id="recording">
            <button id="record">
                <img id="record_button" src="../static/src/img/record.png">
            </button>
            <audio id="play" controls>재생</audio>
            <p id="user_audio" hidden>{{user_audio}}</p>
        </div>

        <div style="padding-top: 3%; padding-left: 5%; height: 15%; width: 85%; text-align: center; font-size: 1.5vw; font-weight: 900;" name="유저 발음 비교">
            <span
            {% for idx in user_pronounce %}
                {% if user_pronounce[loop.index-1] != pronounce[loop.index-1] %}
                    ><span style="color: red;">{{user_pronounce[loop.index-1]}}</span
                {% else %}
                    ><span>{{user_pronounce[loop.index-1]}}</span
                {% endif %}
            {% endfor %}
            >
        </div>

        <div name="단어 학습 페이지 하단 버튼">
            {% if add_or_today == 'today' %} 
                <form method="POST" action="go_prev_word">
                    <input type="image" src="../static/src/img/prev.png" type="submit" class="move_button">
                </form>
            {% else %}
                <form method="POST" action="go_prev_page">
                    <input type="image" src="../static/src/img/prev.png" type="submit" class="move_button">
                </form>
            {% endif %}

            <div id='word1' onclick="word1_click()" class="add_word">{{add[0]}}</div>
            <div id='word2' onclick="word2_click()" class="add_word">{{add[1]}}</div>
            <div id='word3' onclick="word3_click()" class="add_word">{{add[2]}}</div>
            <p id="add_or_today" hidden>{{add_or_today}}</p>
            
            {% if add_or_today == 'today' %} 
                <form method="POST" action="go_next_word">
                    <input type="image" src="../static/src/img/next.png" type="submit" class="move_button">
                </form>
            {% endif %}
        </div>
    </div>
</div>
<script src="../static/js/word_learning.js"></script>
{% endblock %}

{% block column_right %}
<link rel="stylesheet" href="../static/css/word_learning.css">
<div name="음운 변동 규칙" class="rule" style="margin-top: 5%;">
    <h3>{{rule[0]}}</h3>
    <p style="font-size: 1vw;">{{rule[1]}}</p>
</div>
{% endblock %}